
# libgadu

Import('*')

out = conf.PkgConfig('libgadu', flags)
if not out:
	flags.append('-lgadu')

old = SetFlags(env, flags)
out = env['SKIPCHECKS'] or conf.CheckLibWithHeader(env['LIBS'][0], ['libgadu.h'], 'C', 'struct gg_login_params *p; gg_login(p);', 0)
if out:
	for f in ['gg_remind_passwd3', 'gg_change_passwd4']:
		defines['HAVE_%s' % (f.upper())] = conf.CheckLib('gadu', f, None, None, 0)
RestoreFlags(env, old)

defines['HAVE_LIBGADU'] = out
Return('out')

# vim:ts=4:sts=4:sw=4:syntax=python
