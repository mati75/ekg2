
# openssl (optional in jabber, required by sim)

Import('*')

out = conf.PkgConfig('openssl', flags)
if not out:
	flags.append('-lssl')

out = env['SKIPCHECKS']
if not out:
	old	= SetFlags(env, flags)
	out = conf.CheckLibWithHeader(env['LIBS'][0], ['openssl/ssl.h'], 'C', 'SSL_CTX *ctx; SSL_new(ctx);', 0)
	RestoreFlags(env, old)

defines['HAVE_OPENSSL'] = out
Return('out')

# vim:ts=4:sts=4:sw=4:syntax=python
