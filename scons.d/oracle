
# oracle

import os

Import('*')

if 'ORACLE_HOME' in os.environ:
	orhome	= os.environ['ORACLE_HOME']
	flags.append('-L%s/lib' % orhome)
	flags.append('-I%s/rdbms/public' % orhome)

	out = env['SKIPCHECKS']
	if not out:
		old	= SetFlags(env, flags)
		out	= conf.CheckLibWithHeader('clntsh', ['oci.h'], 'C', 'sqlcxt();', 0)
		RestoreFlags(env, old)

	if out:
		libs.append('clntsh')
else:
	print '[oracle] ${ORACLE_HOME} not defined.'
	out = False

Return('out')

# vim:ts=4:sts=4:sw=4:syntax=python
